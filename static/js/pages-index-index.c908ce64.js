(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"11d2":function(t,e,i){"use strict";i.r(e);var a=i("9b17"),n=i("9a4a"),o=i("52fd"),r=i("e0e4"),s=i("68f3");e["default"]={en:a,es:n,fr:o,"zh-Hans":r,"zh-Hant":s}},1361:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("466d");var a=i("463d"),n={},o={data:function(){return{img:"https://mp-839b0982-59b3-4551-989f-17c8657dbdf2.cdn.bspapp.com/cloudstorage/891d2a82-c969-45c7-9691-bf4946e41a4f.jpg",content:"Hello world！",note:"世界，你好！",menuButtonInfo:n,refreshing:!1,autoplay:!0,interval:2e3,duration:500,current:0,mode:"round",dotsStyles:{backgroundColor:"rgba(255, 255, 255,1)",border:"1px rgba(255, 255, 255,1) solid",color:"#fff",selectedBackgroundColor:"rgba(50, 144, 224, 1)",selectedBorder:"1px rgba(50, 144, 224, 1) solid"},adshow:!1,scrollTop:0,adFlag:!0}},onShow:function(t){},onLoad:function(){},mounted:function(){var t=uni.getSystemInfoSync(),e=document.getElementById("scrimg");e.style.width=t.screenWidth},watch:{},computed:{},methods:{formate:function(t){var e=(0,a.timestampFormat)(t);return e},getOne:function(t){var e=this;uni.request({url:"http://open.iciba.com/dsapi/",method:"GET",success:function(i){return e.img=i.picture4,e.content=i.content,e.note=i.note,e.music=i.tts,"note"==t?note:"content"==t?content:music},fail:function(t){console.log(t)}})},bofang:function(t){var e=document.getElementById("audi");"play"==t?e.play():e.pause()},bannertTap:function(t){var e=t.open_url;e.match(/^[a-zA-Z]+:\/\//),this.$u.route({url:"subPackages/articleDetail/articleDetail",params:{id:t.open_url}})},change:function(t){this.current=t.detail.current},tojie:function(){uni.navigateTo({url:"/pages/webview/webview4",animationType:"fade-in"})},listClick:function(t){"jie"==t?uni.navigateTo({url:"/subPackages/webview/webview4",animationType:"fade-in"}):"article"==t?uni.navigateTo({url:"/pages//article/article",animationType:"fade-in"}):"other"==t?uni.navigateTo({url:"/subPackages/webview/webview",animationType:"fade-in"}):"juSearch"==t&&uni.navigateTo({url:"/subPackages/webview/webview3",animationType:"fade-in"})},scrollTop:function(){uni.pageScrollTo({scrollTop:0,duration:300})},onRefresh:function(){var t=this;this.refreshing||(this.refreshing=!0,setTimeout((function(){t.refreshing=!1}),2e3))},newPostTap:function(t){var e=t._id;uni.navigateTo({url:"/subPackages/data/data?id="+e})}}};e.default=o},"1f61":function(t,e,i){"use strict";i.r(e);var a=i("1361"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"29ca":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={unicloudDb:i("960d").default,uCellGroup:i("b09b").default,uCellItem:i("8e71").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{overflow:"hidden","background-color":"rgb(235 235 235)"}},[i("v-uni-view",{attrs:{id:"swip"}},[i("unicloud-db",{ref:"unidb",attrs:{options:t.options,collection:"opendb-banner",field:"_id,bannerfile,category_id,open_url,sort,status,title",orderby:"sort",where:"status==true"},scopedSlots:t._u([{key:"default",fn:function(e){e.loading;var a=e.data;e.error,e.options;return[i("v-uni-swiper",{staticClass:"swiper-box",attrs:{autoplay:t.autoplay,interval:t.interval,duration:t.duration},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},t._l(a,(function(e,a){return i("v-uni-swiper-item",{key:a,staticStyle:{display:"flex","flex-direction":"column"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bannertTap(e)}}},[i("v-uni-view",{staticClass:"swiper-item"},[i("v-uni-image",{staticClass:"fengrui-img",attrs:{src:e.bannerfile.path,mode:"w"}})],1),i("v-uni-text",{staticClass:"batitle"},[t._v(t._s(e.title))])],1)})),1)]}}])})],1),i("v-uni-view",[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":"true","refresher-enabled":"true","refresher-triggered":t.refreshing,"refresher-threshold":45},on:{bindrefresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onRefresh.apply(void 0,arguments)},scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollTop.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"menuCss"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"left-border"}),i("v-uni-text",{staticClass:"right"},[t._v("菜单")])],1)],1),i("v-uni-view",{staticClass:"ranking  u-flex  ",staticStyle:{"text-align":"left",padding:"0 40rpx 0pt 40rpx"}},[i("v-uni-view",{staticClass:"tab u-flex-col u-col-center u-row-center",attrs:{"hover-class":"cate-active","hover-stay-time":"50"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listClick("jie")}}},[i("v-uni-view",{},[t._v("关于")]),i("v-uni-view",{staticClass:" u-p-t-10 eng",staticStyle:{"font-size":"18rpx"}},[t._v("About")])],1),i("v-uni-view",{staticClass:"tab u-flex-col u-col-center u-row-center",attrs:{"hover-class":"cate-active","hover-stay-time":"50"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listClick("article")}}},[i("v-uni-view",{},[t._v("文章导航")]),i("v-uni-view",{staticClass:"u-font-10 u-p-t-10 eng",staticStyle:{"font-size":"18rpx"}},[t._v("Article list")])],1),i("v-uni-view",{staticClass:"tab u-flex-col u-col-center u-row-center",attrs:{"hover-class":"cate-active","hover-stay-time":"50"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listClick("juSearch")}}},[i("v-uni-view",{},[t._v("聚合搜索")]),i("v-uni-view",{staticClass:"u-font-10 u-p-t-10 eng",staticStyle:{"font-size":"18rpx"}},[t._v("Heng Search")])],1),i("v-uni-view",{staticClass:"tab u-flex-col u-col-center u-row-center",attrs:{"hover-class":"cate-active","hover-stay-time":"50"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listClick("other")}}},[i("v-uni-view",{},[t._v("其它")]),i("v-uni-view",{staticClass:"u-font-10 u-p-t-10 eng",staticStyle:{"font-size":"18rpx"}},[t._v("other")])],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"demo-top"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"left-border"}),i("v-uni-text",{staticClass:"right"},[t._v("公告")])],1)],1),i("v-uni-view",{staticClass:"postlist-bg"},[i("unicloud-db",{ref:"unidb",attrs:{options:t.options,collection:"opendb-news-articles",field:"_id,title,avatar,excerpt,is_sticky,article_status,last_modify_date",getone:!0,where:"article_status==1&&is_sticky == 1"},scopedSlots:t._u([{key:"default",fn:function(e){e.loading;var a=e.data,n=e.error;e.options;return[n?i("v-uni-view",{staticClass:"no-list-data"},[t._v("网络错误，请稍后重试...")]):i("v-uni-view",[i("v-uni-view",{staticClass:"menu-scroll-list",attrs:{"hover-class":"fengrui-li-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.newPostTap(a)}}},[null!=a.avatar?i("v-uni-view",{staticClass:"menu-scroll-list-img"},[i("v-uni-image",{staticClass:"fengrui-img",attrs:{src:a.avatar,mode:"aspectFill"}})],1):t._e(),i("v-uni-view",{staticClass:"menu-scroll-list-right"},[i("v-uni-view",{staticClass:"menu-scroll-list-h",staticStyle:{"font-weight":"bold"}},[t._v(t._s(a.title))]),i("v-uni-view",{staticClass:"list-ona-abstract"},[i("v-uni-rich-text",{staticStyle:{color:"#ADADAD"},attrs:{nodes:a.excerpt}})],1),i("v-uni-view",{staticClass:"menu-scroll-list-describe"},[i("v-uni-view",[t._v(t._s(t.formate(a.last_modify_date)))])],1)],1)],1)],1)]}}])})],1),i("v-uni-view",{staticClass:"demo-top"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"left-border"}),i("v-uni-text",{staticClass:"right"},[t._v("每日一言")])],1)],1),i("v-uni-view",{staticClass:"postlist-bg",staticStyle:{width:"100%"}},[i("v-uni-view",{staticClass:"menu-scroll-list",staticStyle:{width:"100%"},attrs:{"hover-class":"fengrui-li-hover"}},[i("v-uni-view",{ref:"imgRef",staticClass:"menu-scroll-list-img",staticStyle:{height:"360upx",width:"calc(100vw)"},attrs:{id:"scrimg"}},[i("v-uni-image",{staticClass:"fengrui-img",attrs:{src:t.img,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"postlist-bg",staticStyle:{width:"100%"}},[i("u-cell-group",{staticStyle:{width:"100%"}},[i("u-cell-item",{attrs:{icon:"pause",title:t.getOne("note")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bofang("play")}}}),i("u-cell-item",{attrs:{icon:"close",title:t.getOne("content")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pauseAudio("pause")}}})],1)],1)],1)],1)],1)],1)],1)],1)},o=[]},"2b8b":function(t,e,i){"use strict";i.r(e);var a=i("29ca"),n=i("1f61");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("ada8");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"4af04383",null,!1,a["a"],void 0);e["default"]=s.exports},"2f63":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";.search-icons[data-v-4af04383]{padding:%?16?%}.search-container-bar[data-v-4af04383]{display:flex;flex-direction:row;justify-content:center;align-items:center;position:fixed;left:0;right:0;z-index:10;background-color:#fff}[data-v-4af04383]\n.uni-searchbar__box{border-width:0}[data-v-4af04383]\n.uni-input-placeholder{font-size:%?28?%}@-webkit-keyframes tiaobig-data-v-4af04383{0%{-webkit-transform:scale(.98);transform:scale(.98)}25%{-webkit-transform:scale(1.08);transform:scale(1.08)}50%{-webkit-transform:scale(.94);transform:scale(.94)}75%{-webkit-transform:scale(1.06);transform:scale(1.06)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes tiaobig-data-v-4af04383{0%{-webkit-transform:scale(.98);transform:scale(.98)}25%{-webkit-transform:scale(1.08);transform:scale(1.08)}50%{-webkit-transform:scale(.94);transform:scale(.94)}75%{-webkit-transform:scale(1.06);transform:scale(1.06)}100%{-webkit-transform:scale(1);transform:scale(1)}}.swiper-list[data-v-4af04383]{white-space:nowrap;width:100%}\n/* 轮播图 */.swiper-item[data-v-4af04383]{border-radius:%?16?%;overflow:hidden;width:100%;height:%?340?%}.swiper-box[data-v-4af04383]{height:%?340?%;border-radius:%?16?%;overflow:hidden}.image[data-v-4af04383]{width:%?750?%}.batitle[data-v-4af04383]{margin:%?-60?% %?10?% %?10?% %?10?%;color:#fff;font-size:%?35?%}.fengrui-img[data-v-4af04383]{width:100%;height:100%}\n/* 轮播图 end*/.content[data-v-4af04383]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:25px}.content .demo-top[data-v-4af04383]{width:100%;height:%?100?%;padding-left:%?20?%;padding-right:%?20?%;display:flex;align-items:center}.content .demo-top .left[data-v-4af04383]{width:auto;height:%?70?%;float:left;line-height:%?100?%;font-size:%?31?%;font-weight:700;display:flex;align-items:center}.content .demo-top .left .left-border[data-v-4af04383]{width:%?7.9?%;height:22px;border-top-left-radius:%?7.9?%;border-top-right-radius:%?7.9?%;border-bottom-right-radius:%?7.9?%;border-bottom-left-radius:%?7.9?%;background-color:#8dd7f1}.content .demo-top .left .right[data-v-4af04383]{padding-left:%?10?%}.content .demo-top .right[data-v-4af04383]{width:auto;height:%?100?%;float:right;line-height:%?100?%;font-size:%?29?%}.content .scroll-view[data-v-4af04383]{width:100%;height:%?400?%;white-space:nowrap;display:flex;align-items:center}.content .scroll-view .scroll-view-item[data-v-4af04383]{width:%?240?%;height:%?380?%;display:inline-block;margin:%?10?%}.content .tool[data-v-4af04383]{width:100%;height:%?105?%;padding-left:%?20?%;padding-right:%?20?%;display:flex}.content .tool .toolItem[data-v-4af04383]{width:calc(100% / 5);height:%?105?%;display:flex;justify-content:center;align-items:center}.content .tool .toolItem .toolItemCenter[data-v-4af04383]{width:%?100?%;height:%?105?%;border-radius:%?12?%}.content .tool .toolItem .toolItemCenter .iconBox[data-v-4af04383]{width:100%;height:%?55?%;display:flex;justify-content:center;align-items:center}.content .tool .toolItem .toolItemCenter .iconBox .icon[data-v-4af04383]{font-size:%?59?%;font-weight:700;color:#fd3434}.content .tool .toolItem .toolItemCenter .title[data-v-4af04383]{width:100%;height:%?50?%;display:flex;justify-content:center;align-items:center;color:#fd3434}.content .product__item[data-v-4af04383]{background-color:#fff;border-radius:%?10?%;overflow:hidden;margin:0 %?10?%;margin-bottom:%?20?%}.content .product__item .item[data-v-4af04383]{\n  /* 图片 start */\n  /* 图片 end */}.content .product__item .item__image[data-v-4af04383]{width:100%;height:auto;background-color:#fff;max-height:%?600?%}.ranking .tab[data-v-4af04383]{width:%?225?%;height:%?100?%;border-radius:%?12?%;color:#fff;margin-top:%?10?%}.ranking .tab .eng[data-v-4af04383]{color:#f5f5f5}.ranking .tab[data-v-4af04383]:hover{cursor:pointer}.ranking .tab[data-v-4af04383]:nth-child(1){background-image:linear-gradient(to bottom right,#8acfaf,#5fbb92,#5fbb92,#8acfaf);margin-right:%?10?%}.ranking .tab[data-v-4af04383]:nth-child(2){background-image:linear-gradient(to bottom right,#f0d35c,#f0b347,#f0b347,#f0d35c);margin-right:%?10?%}.ranking .tab[data-v-4af04383]:nth-child(3){background-image:linear-gradient(to bottom right,#8c99de,#836af0,#836af0,#8c99de);margin-right:%?10?%}.ranking .tab[data-v-4af04383]:nth-child(4){background-image:linear-gradient(to bottom right,#de4185,#f092c3,#f01a48,#a796de)}.menuCss[data-v-4af04383]{width:100%;height:%?100?%;padding-left:%?20?%;padding-right:%?20?%;display:flex;align-items:center}.menuCss .left[data-v-4af04383]{width:auto;height:%?70?%;float:left;line-height:%?100?%;font-size:%?31?%;font-weight:700;display:flex;align-items:center}.menuCss .left .left-border[data-v-4af04383]{width:%?7.9?%;height:22px;border-top-left-radius:%?7.9?%;border-top-right-radius:%?7.9?%;border-bottom-right-radius:%?7.9?%;border-bottom-left-radius:%?7.9?%;background-color:#8dd7f1}.menuCss .left .right[data-v-4af04383]{padding-left:%?10?%}.menuCss .right[data-v-4af04383]{width:auto;height:%?100?%;float:right;line-height:%?100?%;font-size:%?29?%}\n/* 内容数据 */.postlist-bg[data-v-4af04383]{border-radius:%?20?%;overflow:hidden;margin:%?20?% %?10?%;padding:%?0?% %?10?%}.menu-scroll-list-describe[data-v-4af04383]{color:#adadad;font-size:%?20?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.list-li-tag[data-v-4af04383]{color:#0bbda6;font-size:%?20?%}.muen-sld-icon-display[data-v-4af04383]{display:flex;justify-content:flex-start;align-items:center}.muen-sld-icon[data-v-4af04383]{height:%?40?%;width:%?40?%;display:block;margin-right:%?4?%;flex-shrink:0}.menu-scroll-list-h[data-v-4af04383]{font-size:%?26?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.menu-scroll-list-right[data-v-4af04383]{margin-left:%?32?%;width:%?350?%;display:flex;justify-content:space-between;flex-flow:column}.menu-scroll-list-img[data-v-4af04383]{width:%?350?%;height:%?175?%;border-radius:%?16?%;overflow:hidden}.menu-scroll-list[data-v-4af04383]{display:flex;padding:%?30?%;background-color:#fff;border-radius:%?50?%;margin-left:%?20?%;margin-right:%?20?%}',""]),t.exports=e},"463d":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.timestampFormat=void 0,i("e25e");var n=a(i("53ca"));e.timestampFormat=function(t){if(!t)return"";function e(t){return(1==String(t).length?"0":"")+t}(0,n.default)("string"==t)&&(t=parseInt(t));var i=parseInt((new Date).getTime()),a=(i-t)/1e3,o=new Date(1e3*i),r=new Date(t),s=r.getFullYear(),l=r.getMonth()+1,c=r.getDate(),d=r.getHours(),u=r.getMinutes();r.getSeconds();if(a<60)return"刚刚";if(a<3600)return Math.floor(a/60)+"分钟前";if(o.getFullYear()==s&&o.getMonth()+1==l&&o.getDate()==c)return"今天"+e(d)+":"+e(u);var f=new Date(1e3*(i-86400));return f.getFullYear()==s&&f.getMonth()+1==l&&f.getDate()==c?"昨天"+e(d)+":"+e(u):o.getFullYear()==s?e(l)+"月"+e(c)+"日 "+e(d)+":"+e(u):s+"年"+e(l)+"月"+e(c)+"日 "+e(d)+":"+e(u)}},"4af1":function(t,e,i){"use strict";(function(t){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("53ca"));i("a9e3"),i("c975"),i("d3b7"),i("14d9"),i("a434"),i("ac1f"),i("e9c4"),i("b64b"),i("d9e2"),i("d401"),i("fb6a");var r=i("37dc"),s=a(i("11d2")),l=(0,r.initVueI18n)(s.default),c=l.t,d={load:"load",error:"error"},u={add:"add",replace:"replace"},f={auto:"auto",onready:"onready",manual:"manual"},h=["pageCurrent","pageSize","spaceInfo","collection","action","field","getcount","orderby","where","groupby","groupField","distinct"],g={name:"UniClouddb",props:{options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String,Object],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},pageIndistinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{loading:!1,hasMore:!1,dataList:this.getone?void 0:[],paginationInternal:{},errorMessage:""}},computed:{collectionArgs:function(){return Array.isArray(this.collection)?this.collection:[this.collection]},isLookup:function(){return Array.isArray(this.collection)&&this.collection.length>1||"string"===typeof this.collection&&this.collection.indexOf(",")>-1}},created:function(){var t=this;this._isEnded=!1,this.paginationInternal={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return h.forEach((function(i){e.push(t[i])})),e}),(function(e,i){if(t.paginationInternal.size=t.pageSize,e[0]!==i[0]&&(t.paginationInternal.current=t.pageCurrent),t.loadtime!==f.manual){for(var a=!1,n=2;n<e.length;n++)if(e[n]!==i[n]){a=!0;break}a&&(t.clear(),t.reset()),t._execLoadData()}})),this.manual||this.loadtime!==f.auto||this.loadData()},beforeDestroy:function(){},methods:{loadData:function(t,e){var i=null,a=!1;"object"===(0,o.default)(t)?(t.clear&&(this.pageData===u.replace?this.clear():a=t.clear,this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(i=e)):"function"===typeof t&&(i=t),this._execLoadData(i,a)},loadMore:function(){this._isEnded||this.loading||(this.pageData===u.add&&this.paginationInternal.current++,this._execLoadData())},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.dataList=[]},reset:function(){this.paginationInternal.current=1},add:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.action,n=i.showToast,o=void 0===n||n,r=i.toastTitle,s=i.success,l=i.fail,d=i.complete,u=i.needConfirm,f=void 0===u||u,h=i.needLoading,g=void 0===h||h,v=i.loadingTitle,p=void 0===v?"":v;g&&uni.showLoading({title:p});var m=t.database(this.spaceInfo);a&&(m=m.action(a)),m.collection(this.getMainCollection()).add(e).then((function(t){s&&s(t),o&&uni.showToast({title:r||c("uniCloud.component.add.success")})})).catch((function(t){l&&l(t),f&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){g&&uni.hideLoading(),d&&d()}))},remove:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.action,n=i.success,o=i.fail,r=i.complete,s=i.confirmTitle,l=i.confirmContent,d=i.needConfirm,u=void 0===d||d,f=i.needLoading,h=void 0===f||f,g=i.loadingTitle,v=void 0===g?"":g;t&&t.length&&(u?uni.showModal({title:s||c("uniCloud.component.remove.showModal.title"),content:l||c("uniCloud.component.remove.showModal.content"),showCancel:!0,success:function(i){i.confirm&&e._execRemove(t,a,n,o,r,u,h,v)}}):this._execRemove(t,a,n,o,r,u,h,v))},update:function(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.action,o=a.showToast,r=void 0===o||o,s=a.toastTitle,l=a.success,d=a.fail,u=a.complete,f=a.needConfirm,h=void 0===f||f,g=a.needLoading,v=void 0===g||g,p=a.loadingTitle,m=void 0===p?"":p;v&&uni.showLoading({title:m});var w=t.database(this.spaceInfo);return n&&(w=w.action(n)),w.collection(this.getMainCollection()).doc(e).update(i).then((function(t){l&&l(t),r&&uni.showToast({title:s||c("uniCloud.component.update.success")})})).catch((function(t){d&&d(t),h&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){v&&uni.hideLoading(),u&&u()}))},getMainCollection:function(){if("string"===typeof this.collection)return this.collection.split(",")[0];var t=JSON.parse(JSON.stringify(this.collection[0]));return t.$db[0].$param[0]},getTemp:function(){var e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=t.database(this.spaceInfo);this.action&&(a=a.action(this.action)),a=(e=a).collection.apply(e,(0,n.default)(this.collectionArgs)),this.foreignKey&&(a=a.foreignKey(this.foreignKey)),this.where&&Object.keys(this.where).length&&(a=a.where(this.where)),this.field&&(a=a.field(this.field)),this.groupby&&(a=a.groupBy(this.groupby)),this.groupField&&(a=a.groupField(this.groupField)),!0===this.distinct&&(a=a.distinct()),this.orderby&&(a=a.orderBy(this.orderby));var o=this.paginationInternal,r=o.current,s=o.size,l={};this.getcount&&(l.getCount=this.getcount);var c={limitLevel:this.limitlevel,startWith:this.startwith};return this.gettree&&(l.getTree=c),this.gettreepath&&(l.getTreePath=c),a=a.skip(s*(r-1)).limit(s),i?(a=a.getTemp(l),a.udb=this):a=a.get(l),a},setResult:function(t){0===t.code?this._execLoadDataSuccess(t):this._execLoadDataFail(new Error(t.message))},_execLoadData:function(t,e){var i=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(a){i.loading=!1,i._execLoadDataSuccess(a.result,t,e)})).catch((function(e){i.loading=!1,i._execLoadDataFail(e,t)})))},_execLoadDataSuccess:function(t,e,i){var a=t.data,o=t.count;this._isEnded=void 0!==o?this.paginationInternal.current*this.paginationInternal.size>=o:a.length<this.pageSize,this.hasMore=!this._isEnded;var r,s=this.getone?a.length?a[0]:void 0:a;(this.getcount&&(this.paginationInternal.count=o),e&&e(s,this._isEnded,this.paginationInternal),this._dispatchEvent(d.load,s),this.getone||this.pageData===u.replace)?this.dataList=s:i?this.dataList=s:(r=this.dataList).push.apply(r,(0,n.default)(s))},_execLoadDataFail:function(t,e){this.errorMessage=t,e&&e(),this.$emit(d.error,t)},_getExec:function(){return this.getTemp(!1)},_execRemove:function(e,i,a,n,o,r,s,l){var c=this;if(this.collection&&e){var d=Array.isArray(e)?e:[e];if(d.length){s&&uni.showLoading({mask:!0,title:l});var f=t.database(this.spaceInfo),h=f.command,g=f;i&&(g=g.action(i)),g.collection(this.getMainCollection()).where({_id:h.in(d)}).remove().then((function(t){a&&a(t.result),c.pageData===u.replace?c.refresh():c.removeData(d)})).catch((function(t){n&&n(t),r&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){s&&uni.hideLoading(),o&&o()}))}}},removeData:function(t){for(var e=t.slice(0),i=this.dataList,a=i.length-1;a>=0;a--){var n=e.indexOf(i[a]._id);n>=0&&(i.splice(a,1),e.splice(n,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded,this.paginationInternal):this.$emit(t,e,this._isEnded,this.paginationInternal)}}};e.default=g}).call(this,i("a9ff")["default"])},"52fd":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"新增成功","uniCloud.component.update.success":"修改成功","uniCloud.component.remove.showModal.title":"提示","uniCloud.component.remove.showModal.content":"是否删除该数据"}')},"539b":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[this._t("default",null,{options:this.options,data:this.dataList,pagination:this.paginationInternal,loading:this.loading,hasMore:this.hasMore,error:this.errorMessage})],2)},n=[]},"5a75":function(t,e,i){var a=i("2f63");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("427aa7c4",a,!0,{sourceMap:!1,shadowMode:!1})},"68f3":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"新增成功","uniCloud.component.update.success":"修改成功","uniCloud.component.remove.showModal.title":"提示","uniCloud.component.remove.showModal.content":"是否刪除數據"}')},"848e":function(t,e,i){"use strict";i.r(e);var a=i("4af1"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"960d":function(t,e,i){"use strict";i.r(e);var a=i("539b"),n=i("848e");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=s.exports},"9a4a":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"新增成功","uniCloud.component.update.success":"修改成功","uniCloud.component.remove.showModal.title":"提示","uniCloud.component.remove.showModal.content":"是否删除该数据"}')},"9b17":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"Success","uniCloud.component.update.success":"Success","uniCloud.component.remove.showModal.title":"Tips","uniCloud.component.remove.showModal.content":"是否删除该数据"}')},ada8:function(t,e,i){"use strict";var a=i("5a75"),n=i.n(a);n.a},e0e4:function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"新增成功","uniCloud.component.update.success":"修改成功","uniCloud.component.remove.showModal.title":"提示","uniCloud.component.remove.showModal.content":"是否删除该数据"}')}}]);
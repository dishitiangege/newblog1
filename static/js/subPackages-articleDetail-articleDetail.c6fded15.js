(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subPackages-articleDetail-articleDetail"],{"0440":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[this.nodes.length?this._e():this._t("default"),e("v-uni-view",{style:this.showAm+(this.selectable?";user-select:text;-webkit-user-select:text":""),attrs:{id:"_top"}},[e("div",{attrs:{id:"rtf"+this.uid}})])],2)},r=[]},"121c":function(t,e,o){"use strict";o.r(e);var i=o("fe7d"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"131d":function(t,e,o){"use strict";o.r(e);var i=o("dde0"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"14da":function(t,e,o){"use strict";o.r(e);var i=o("0440"),r=o("121c");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("48e3");var n=o("f0c5"),c=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"d4341b86",null,!1,i["a"],void 0);e["default"]=c.exports},"22a7":function(t,e,o){"use strict";o.r(e);var i=o("4a09"),r=o("131d");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("f882");var n=o("f0c5"),c=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"63149417",null,!1,i["a"],void 0);e["default"]=c.exports},"48e3":function(t,e,o){"use strict";var i=o("8c6a"),r=o.n(i);r.a},"4a09":function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var i={uIcon:o("92f9").default},r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"u-back-top",class:["u-back-top--mode--"+t.mode],style:[{bottom:t.bottom+"rpx",right:t.right+"rpx",borderRadius:"circle"==t.mode?"10000rpx":"8rpx",zIndex:t.uZIndex,opacity:t.opacity},t.customStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToTop.apply(void 0,arguments)}}},[t.$slots.default||t.$slots.$default?t._t("default"):o("v-uni-view",{staticClass:"u-back-top__content"},[o("u-icon",{attrs:{name:t.icon,"custom-style":t.iconStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToTop.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"u-back-top__content__tips"},[t._v(t._s(t.tips))])],1)],2)},a=[]},"4f78":function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,".u-back-top[data-v-63149417]{width:%?80?%;height:%?80?%;position:fixed;z-index:9;display:flex;flex-direction:row;flex-direction:column;justify-content:center;background-color:#e1e1e1;color:#606266;align-items:center;transition:opacity .4s}.u-back-top__content[data-v-63149417]{display:flex;flex-direction:row;flex-direction:column;align-items:center}.u-back-top__content__tips[data-v-63149417]{font-size:%?24?%;-webkit-transform:scale(.8);transform:scale(.8);line-height:1}",""]),t.exports=e},"5a62":function(t,e,o){"use strict";var i=o("6454"),r=o.n(i);r.a},"5be9":function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a9e3");var i={name:"u-tag",emits:["click","close"],props:{type:{type:String,default:"primary"},disabled:{type:[Boolean,String],default:!1},size:{type:String,default:"default"},shape:{type:String,default:"square"},text:{type:[String,Number],default:""},bgColor:{type:String,default:""},color:{type:String,default:""},borderColor:{type:String,default:""},closeColor:{type:String,default:""},index:{type:[Number,String],default:""},mode:{type:String,default:"light"},closeable:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},data:function(){return{}},computed:{customStyle:function(){var t={};return this.color&&(t.color=this.color),this.bgColor&&(t.backgroundColor=this.bgColor),"plain"==this.mode&&this.color&&!this.borderColor?t.borderColor=this.color:t.borderColor=this.borderColor,t},iconStyle:function(){if(this.closeable){var t={};return"mini"==this.size?t.fontSize="20rpx":t.fontSize="22rpx","plain"==this.mode||"light"==this.mode?t.color=this.type:"dark"==this.mode&&(t.color="#ffffff"),this.closeColor&&(t.color=this.closeColor),t}},closeIconColor:function(){return this.closeColor?this.closeColor:this.color?this.color:"dark"==this.mode?"#ffffff":this.type}},methods:{clickTag:function(){this.disabled||this.$emit("click",this.index)},close:function(){this.$emit("close",this.index)}}};e.default=i},6454:function(t,e,o){var i=o("fd40");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=o("4f06").default;r("458c4d41",i,!0,{sourceMap:!1,shadowMode:!1})},7231:function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.calcCommentsCount=void 0,o("d3b7"),o("159b");e.calcCommentsCount=function(t){var e=t.length;return t.forEach((function(t){e+=t.replies.length})),e}},"761b":function(t,e,o){"use strict";o.r(e);var i=o("5be9"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"7eed":function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var i={uIcon:o("92f9").default,uTag:o("c49a").default,uParse:o("14da").default,uForm:o("03f9").default,uFormItem:o("8806").default,uInput:o("915d").default,uButton:o("2f20").default,uBackTop:o("22a7").default},r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"app-article content"},[o("v-uni-view",{staticClass:"post-header"},[o("v-uni-view",{staticClass:"post-title"},[t._v(t._s(t.articleDetail.title))]),o("v-uni-view",{staticClass:"article-desc"},[o("v-uni-view",{staticClass:"post-time"},[o("u-icon",{attrs:{name:"star-fill",size:"34",color:""}}),t._v("Posted on"),o("v-uni-text",{staticClass:"time"},[t._v(t._s(t.articleDetail.createdAt?t.articleDetail.createdAt.slice(0,10):""))])],1),o("v-uni-view",{staticClass:"list-item-others"},[o("v-uni-text",{staticClass:"splitLine"}),o("u-icon",{attrs:{name:"tags-fill",size:"34",color:""}}),t._l(t.articleDetail.tags,(function(e,i){return o("u-tag",{key:i,staticStyle:{"margin-left":"10rpx"},attrs:{color:"#fff",size:"mini","border-color":e.color,"bg-color":e.color,text:e.name},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.goTagSelect(e,"tag")}}})})),o("v-uni-text",{staticClass:"splitLine"}),o("u-icon",{attrs:{name:"bookmark-fill",size:"34",color:""}}),t._l(t.articleDetail.categories,(function(e,i){return o("u-tag",{key:e.name,staticStyle:{"margin-left":"10rpx"},attrs:{color:"#fff",size:"mini","border-color":e.color,"bg-color":e.color,text:e.name},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.goTagSelect(e,"category")}}})})),o("v-uni-text",{staticClass:"splitLine"}),o("u-icon",{attrs:{name:"chat-fill",size:"34",color:"",label:t.calcComments(t.articleDetail.comments)}}),o("u-icon",{attrs:{name:"eye-fill",size:"34",color:"",label:t.articleDetail.view_count?t.articleDetail.view_count.toString():0}})],2)],1)],1),o("v-uni-view",{staticClass:"article-detail"},[o("u-parse",{attrs:{html:t.articleDetail.content,"use-anchor":!0}})],1),o("v-uni-view",{staticClass:"comment"},[o("u-form",{ref:"commentForm",attrs:{model:t.commentForm,"label-width":"0"}},[o("u-form-item",[o("u-input",{attrs:{type:"textarea",border:!0,autoHeight:!0},model:{value:t.commentForm.content,callback:function(e){t.$set(t.commentForm,"content",e)},expression:"commentForm.content"}})],1)],1),o("u-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.commentSubmit.apply(void 0,arguments)}}},[t._v("提交评论")]),o("comment",{attrs:{commentList:t.commentList,articleId:t.articleId},on:{refreshList:function(e){arguments[0]=e=t.$handleEvent(e),t.refreshList.apply(void 0,arguments)}}})],1),o("u-back-top",{attrs:{mode:t.mode,"scroll-top":t.scrollTop,"icon-style":t.iconStyle}})],1)},a=[]},"8c4f":function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var i={uIcon:o("92f9").default},r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.show?o("v-uni-view",{staticClass:"u-tag",class:[t.disabled?"u-disabled":"","u-size-"+t.size,"u-shape-"+t.shape,"u-mode-"+t.mode+"-"+t.type],style:[t.customStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTag.apply(void 0,arguments)}}},[t._v(t._s(t.text)),o("v-uni-view",{staticClass:"u-icon-wrap",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t.closeable?o("u-icon",{staticClass:"u-close-icon",style:[t.iconStyle],attrs:{size:"22",color:t.closeIconColor,name:"close"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}):t._e()],1)],1):t._e()},a=[]},"8c6a":function(t,e,o){var i=o("b7c8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=o("4f06").default;r("da0156e6",i,!0,{sourceMap:!1,shadowMode:!1})},"8da6":function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={errorImg:null,filter:null,highlight:null,onText:null,entities:{quot:'"',apos:"'",semi:";",nbsp:" ",ensp:" ",emsp:" ",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…"},blankChar:r(" , ,\t,\r,\n,\f"),boolAttrs:r("allowfullscreen,autoplay,autostart,controls,ignore,loop,muted"),blockTags:r("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:r("area,base,canvas,frame,iframe,input,link,map,meta,param,script,source,style,svg,textarea,title,track,wbr"),richOnlyTags:r("a,colgroup,fieldset,legend"),selfClosingTags:r("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),trustTags:r("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),userAgentStyles:{address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"}};function r(t){for(var e=Object.create(null),o=t.split(","),i=o.length;i--;)e[o[i]]=!0;return e}var a=i;e.default=a},9830:function(t,e,o){"use strict";o.r(e);var i=o("7eed"),r=o("fd3d");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);var n=o("f0c5"),c=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"df14bbf2",null,!1,i["a"],void 0);e["default"]=c.exports},aa45:function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("d3b7"),o("159b"),o("d401"),o("25f0");var r=i(o("cc4f")),a=o("7231"),n={components:{comment:r.default},data:function(){return{mode:"square",scrollTop:0,iconStyle:{fontSize:"32rpx",color:"#2979ff"},articleDetail:{},commentList:[],articleId:"",commentForm:{content:""}}},onPageScroll:function(t){this.scrollTop=t.scrollTop},onReady:function(){},onLoad:function(t){var e=this;this.articleId=t.id;var o={pageIndex:1,pageSize:1,articleId:this.articleId};vk.callFunction({url:"client/article/kh/getList",title:"",data:o}).then((function(t){0==t.code&&(e.articleDetail=t.rows[0],e.getCommentList(),e.articleDetail.tags.forEach((function(t,o){t.color=e.getRandomColor()})),e.articleDetail.categories.forEach((function(t,o){t.color=e.getRandomColor()})))}))},methods:{getCommentList:function(){var t=this;vk.callFunction({url:"client/comment/kh/getComment",title:"",data:{articleId:this.articleId}}).then((function(e){0==e.code&&(t.commentList=e.rows)}))},goTagSelect:function(t,e){this.$u.route({url:"pages/archives/archivesSelect",params:{name:t.name,type:e}})},refreshList:function(){this.getCommentList()},commentSubmit:function(){var t=this,e={isLike:0,likeNum:0,articleId:this.articleId,content:this.commentForm.content};vk.callFunction({url:"client/comment/kh/addComment",title:"",data:e}).then((function(e){0==e.code&&(t.getCommentList(),t.commentForm.content="")}))},calcComments:function(t){return t=t||[],(0,a.calcCommentsCount)(t).toString()},getRandomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)}}};e.default=n},b7c8:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"@-webkit-keyframes _show-data-v-d4341b86{0%{opacity:0}100%{opacity:1}}@keyframes _show-data-v-d4341b86{0%{opacity:0}100%{opacity:1}}\n\n\n\n",""]),t.exports=e},c49a:function(t,e,o){"use strict";o.r(e);var i=o("8c4f"),r=o("761b");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("5a62");var n=o("f0c5"),c=Object(n["a"])(r["default"],i["b"],i["c"],!1,null,"2dc7ae54",null,!1,i["a"],void 0);e["default"]=c.exports},db26:function(t,e,o){var i=o("4f78");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=o("4f06").default;r("26f5fa14",i,!0,{sourceMap:!1,shadowMode:!1})},dde0:function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a9e3");var i={name:"u-back-top",props:{mode:{type:String,default:"circle"},icon:{type:String,default:"arrow-upward"},tips:{type:String,default:""},duration:{type:[Number,String],default:100},scrollTop:{type:[Number,String],default:0},top:{type:[Number,String],default:400},bottom:{type:[Number,String],default:200},right:{type:[Number,String],default:40},zIndex:{type:[Number,String],default:"9"},iconStyle:{type:Object,default:function(){return{color:"#909399",fontSize:"38rpx"}}},customStyle:{type:Object,default:function(){return{}}}},watch:{showBackTop:function(t,e){t?(this.uZIndex=this.zIndex,this.opacity=1):(this.uZIndex=-1,this.opacity=0)}},computed:{showBackTop:function(){return this.scrollTop>uni.upx2px(this.top)}},data:function(){return{opacity:0,uZIndex:-1}},methods:{backToTop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration})}}};e.default=i},f882:function(t,e,o){"use strict";var i=o("db26"),r=o.n(i);r.a},fd3d:function(t,e,o){"use strict";o.r(e);var i=o("aa45"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},fd40:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,".u-tag[data-v-2dc7ae54]{box-sizing:border-box;align-items:center;border-radius:%?6?%;display:inline-block;line-height:1}.u-size-default[data-v-2dc7ae54]{font-size:%?22?%;padding:%?12?% %?22?%}.u-size-mini[data-v-2dc7ae54]{font-size:%?20?%;padding:%?6?% %?12?%}.u-mode-light-primary[data-v-2dc7ae54]{background-color:#ecf5ff;color:#2979ff;border:1px solid #a0cfff}.u-mode-light-success[data-v-2dc7ae54]{background-color:#dbf1e1;color:#19be6b;border:1px solid #71d5a1}.u-mode-light-error[data-v-2dc7ae54]{background-color:#fef0f0;color:#fa3534;border:1px solid #fab6b6}.u-mode-light-warning[data-v-2dc7ae54]{background-color:#fdf6ec;color:#f90;border:1px solid #fcbd71}.u-mode-light-info[data-v-2dc7ae54]{background-color:#f4f4f5;color:#909399;border:1px solid #c8c9cc}.u-mode-dark-primary[data-v-2dc7ae54]{background-color:#2979ff;color:#fff}.u-mode-dark-success[data-v-2dc7ae54]{background-color:#19be6b;color:#fff}.u-mode-dark-error[data-v-2dc7ae54]{background-color:#fa3534;color:#fff}.u-mode-dark-warning[data-v-2dc7ae54]{background-color:#f90;color:#fff}.u-mode-dark-info[data-v-2dc7ae54]{background-color:#909399;color:#fff}.u-mode-plain-primary[data-v-2dc7ae54]{background-color:#fff;color:#2979ff;border:1px solid #2979ff}.u-mode-plain-success[data-v-2dc7ae54]{background-color:#fff;color:#19be6b;border:1px solid #19be6b}.u-mode-plain-error[data-v-2dc7ae54]{background-color:#fff;color:#fa3534;border:1px solid #fa3534}.u-mode-plain-warning[data-v-2dc7ae54]{background-color:#fff;color:#f90;border:1px solid #f90}.u-mode-plain-info[data-v-2dc7ae54]{background-color:#fff;color:#909399;border:1px solid #909399}.u-disabled[data-v-2dc7ae54]{opacity:.55}.u-shape-circle[data-v-2dc7ae54]{border-radius:%?100?%}.u-shape-circleRight[data-v-2dc7ae54]{border-radius:0 %?100?% %?100?% 0}.u-shape-circleLeft[data-v-2dc7ae54]{border-radius:%?100?% 0 0 %?100?%}.u-close-icon[data-v-2dc7ae54]{margin-left:%?14?%;font-size:%?22?%;color:#19be6b}.u-icon-wrap[data-v-2dc7ae54]{display:inline-flex;-webkit-transform:scale(.86);transform:scale(.86)}",""]),t.exports=e},fe7d:function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(o("b85c"));o("c975"),o("caad"),o("2532"),o("ac1f"),o("466d"),o("841c"),o("5319"),o("e25e"),o("14d9"),o("99af"),o("acd8");var a=i(o("8da6")),n=uni.getSystemInfoSync(),c=n.windowWidth,l=(n.platform,{name:"parser",emits:["parse","load","ready","error","imgtap","linkpress"],data:function(){return{uid:this._uid,showAm:"",nodes:[]}},props:{html:String,autopause:{type:Boolean,default:!0},preview:{type:Boolean,default:!0},autoscroll:Boolean,autosetTitle:{type:Boolean,default:!0},domain:String,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean},watch:{html:function(t){this.setContent(t)}},created:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0,o=this.length;e<o;e++)this.setItem(e,t(this[e],e,this))},this.imgList.setItem=function(t,e){if(void 0!=t&&e){if(0==e.indexOf("http")&&this.includes(e)){for(var o,i=e.split("://")[0],r=i.length;o=e[r];r++){if("/"==o&&"/"!=e[r-1]&&"/"!=e[r+1])break;i+=Math.random()>.5?o.toUpperCase():o}return i+=e.substr(r),this[t]=i}if(this[t]=e,e.includes("data:image")){var a=e.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!a)return}}}},mounted:function(){this.document=document.getElementById("rtf"+this._uid),this.html&&this.setContent(this.html)},beforeDestroy:function(){this._observer&&this._observer.disconnect(),this.imgList.each((function(t){})),clearInterval(this._timer)},methods:{setContent:function(t,e){var o=this;if(t){var i=document.createElement("div");e?this.rtf?this.rtf.appendChild(i):this.rtf=i:(this.rtf&&this.rtf.parentNode.removeChild(this.rtf),this.rtf=i),i.innerHTML=this._handleHtml(t,e);for(var n,l=this.rtf.getElementsByTagName("style"),s=0;n=l[s++];)n.innerHTML=n.innerHTML.replace(/body/g,"#rtf"+this._uid),n.setAttribute("scoped","true");!this._observer&&this.lazyLoad&&IntersectionObserver&&(this._observer=new IntersectionObserver((function(t){for(var e,i=0;e=t[i++];)e.isIntersecting&&(e.target.src=e.target.getAttribute("data-src"),e.target.removeAttribute("data-src"),o._observer.unobserve(e.target))}),{rootMargin:"500px 0px 500px 0px"}));var u=this,d=this.rtf.getElementsByTagName("title");d.length&&this.autosetTitle&&uni.setNavigationBarTitle({title:d[0].innerText});var f=function(t){var e=t.getAttribute("src");o.domain&&e&&("/"==e[0]?"/"==e[1]?t.src=(o.domain.includes("://")?o.domain.split("://")[0]:"")+":"+e:t.src=o.domain+e:e.includes("://")||0==e.indexOf("data:")||(t.src=o.domain+"/"+e))};this.imgList.length=0;for(var h,m=this.rtf.getElementsByTagName("img"),p=0,v=0;h=m[p];p++)parseInt(h.style.width||h.getAttribute("width"))>c&&(h.style.height="auto"),f(h),h.hasAttribute("ignore")||"A"==h.parentElement.nodeName||(h.i=v++,u.imgList.push(h.getAttribute("original-src")||h.src||h.getAttribute("data-src")),h.onclick=function(t){t.stopPropagation();var e=u.preview;this.ignore=function(){return e=!1},u.$emit("imgtap",this),e&&uni.previewImage({current:this.i,urls:u.imgList})}),h.onerror=function(){a.default.errorImg&&(u.imgList[this.i]=this.src=a.default.errorImg),u.$emit("error",{source:"img",target:this})},u.lazyLoad&&this._observer&&h.src&&0!=h.i&&(h.setAttribute("data-src",h.src),h.removeAttribute("src"),this._observer.observe(h));var g,b=this.rtf.getElementsByTagName("a"),y=(0,r.default)(b);try{for(y.s();!(g=y.n()).done;){var x=g.value;x.onclick=function(t){t.stopPropagation();var e=!0,o=this.getAttribute("href");if(u.$emit("linkpress",{href:o,ignore:function(){return e=!1}}),e&&o)if("#"==o[0])u.useAnchor&&u.navigateTo({id:o.substr(1)});else{if(0==o.indexOf("http")||0==o.indexOf("//"))return!0;uni.navigateTo({url:o})}return!1}}}catch(B){y.e(B)}finally{y.f()}var _=this.rtf.getElementsByTagName("video");u.videoContexts=_;for(var k,w=0;k=_[w++];)f(k),k.style.maxWidth="100%",k.onerror=function(){u.$emit("error",{source:"video",target:this})},k.onplay=function(){if(u.autopause)for(var t,e=0;t=u.videoContexts[e++];)t!=this&&t.pause()};var C,S,T=this.rtf.getElementsByTagName("audio"),I=(0,r.default)(T);try{for(I.s();!(C=I.n()).done;){var z=C.value;f(z),z.onerror=function(){u.$emit("error",{source:"audio",target:this})}}}catch(B){I.e(B)}finally{I.f()}if(this.autoscroll){var L,O=this.rtf.getElementsByTagName("table"),A=(0,r.default)(O);try{for(A.s();!(L=A.n()).done;){var $=L.value,E=document.createElement("div");E.style.overflow="scroll",$.parentNode.replaceChild(E,$),E.appendChild($)}}catch(B){A.e(B)}finally{A.f()}}e||this.document.appendChild(this.rtf),this.$nextTick((function(){o.nodes=[1],o.$emit("load")})),setTimeout((function(){return o.showAm=""}),500),clearInterval(this._timer),this._timer=setInterval((function(){o.rect=o.rtf.getBoundingClientRect(),o.rect.height==S&&(o.$emit("ready",o.rect),clearInterval(o._timer)),S=o.rect.height}),350),this.showWithAnimation&&!e&&(this.showAm="animation:_show .5s")}else this.rtf&&!e&&this.rtf.parentNode.removeChild(this.rtf)},getText:function(){arguments.length>0&&void 0!==arguments[0]||this.nodes;var t="";return t=this.rtf.innerText,t},in:function(t){t.page&&t.selector&&t.scrollTop&&(this._in=t)},navigateTo:function(t){var e=this;if(!this.useAnchor)return t.fail&&t.fail("Anchor is disabled");var o=uni.createSelectorQuery().in(this._in?this._in.page:this).select((this._in?this._in.selector:"#_top")+(t.id?"".concat(" ","#").concat(t.id,",").concat(this._in?this._in.selector:"#_top").concat(" ",".").concat(t.id):"")).boundingClientRect();this._in?o.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():o.selectViewport().scrollOffset(),o.exec((function(o){if(!o[0])return t.fail&&t.fail("Label not found");var i=o[1].scrollTop+o[0].top-(o[2]?o[2].top:0)+(t.offset||0);e._in?e._in.page[e._in.scrollTop]=i:uni.pageScrollTo({scrollTop:i,duration:300}),t.success&&t.success()}))},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e]},_handleHtml:function(t,e){if(!e){var o="<style scoped>@keyframes _show{0%{opacity:0}100%{opacity:1}}img{max-width:100%}";for(var i in a.default.userAgentStyles)o+="".concat(i,"{").concat(a.default.userAgentStyles[i],"}");for(i in this.tagStyle)o+="".concat(i,"{").concat(this.tagStyle[i],"}");o+="</style>",t=o+t}return t.includes("rpx")&&(t=t.replace(/[0-9.]+\s*rpx/g,(function(t){return parseFloat(t)*c/750+"px"}))),t}}});e.default=l}}]);